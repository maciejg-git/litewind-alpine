(()=>{function r(i){i.data("pagination",()=>{let n={main:{"aria-label":"Pagination"},pageButton:{":aria-current"(){return this.isSelected()?"page":!1}},prevButton:{"aria-label":"Previous"},nextButton:{"aria-label":"Next"}},g=(t,e,s)=>t<e?e:t>=s?s:t,l=(t,e)=>Array.from({length:e},(s,a)=>a+t);return{currentPage:1,itemsCount:0,itemsPerPage:10,maxPages:7,init(){this.$nextTick(()=>{i.effect(()=>{this.itemsCount=parseInt(i.bound(this.$el,"data-items-count")??this.itemsCount)}),i.effect(()=>{this.itemsPerPage=parseInt(i.bound(this.$el,"data-items-per-page")??this.itemsPerPage)}),i.effect(()=>{this.maxPages=parseInt(i.bound(this.$el,"data-max-pages")??this.maxPages)})}),i.bind(this.$el,{"x-modelable":"currentPage"}),i.bind(this.$el,n.main)},getPagesCount(){return this.itemsPerPage<=0||this.itemsCount<=0?1:Math.ceil(this.itemsCount/this.itemsPerPage)},getMaxPagesCount(){return Math.min(this.getPagesCount(),Math.max(this.maxPages,3))},getPages(){let t=this.getMaxPagesCount(),e=this.currentPage-Math.ceil(t/2)+1,s=this.getPagesCount();e=g(e,1,s-t+1);let a=l(e,t);return t>=5&&(a[0]!=1&&(a[0]=1,a[1]="..."),a[a.length-1]!=s&&(a[a.length-1]=s,a[a.length-2]="...")),a},isSelected(){return this.currentPage===this.page},handleClickPrev(){let t=this.currentPage-1;this.currentPage=t<=1?1:t},handleClickNext(){let t=this.currentPage+1,e=this.getPagesCount();this.currentPage=t>=e?e:t},handleClickPage(){this.page!=="..."&&(this.currentPage=this.page)},prevButton:{"@click"(){this.handleClickPrev()},...n.prevButton},nextButton:{"@click"(){this.handleClickNext()},...n.nextButton},pageButton:{"@click"(){this.handleClickPage()},":class"(){let t=this.$el.attributes,e="";return this.isSelected()?e=t["class-selected"]?.textContent||"":e=t["class-default"]?.textContent||"",e},...n.pageButton}}})}document.addEventListener("alpine:init",()=>{Alpine.plugin(r)});})();
