(()=>{function r(i){i.data("pagination",()=>{let n={main:{"aria-label":"Pagination"},pageButton:{":aria-current"(){return this.isSelected()?"page":!1}},prevButton:{"aria-label":"Previous"},nextButton:{"aria-label":"Next"}},g=(t,e,s)=>t<e?e:t>=s?s:t,l=(t,e)=>Array.from({length:e},(s,a)=>a+t);return{_currentPage:1,_itemsCount:0,_itemsPerPage:10,_maxPages:7,init(){this.$nextTick(()=>{i.effect(()=>{this._itemsCount=parseInt(i.bound(this.$el,"data-items-count")??this._itemsCount)}),i.effect(()=>{this._itemsPerPage=parseInt(i.bound(this.$el,"data-items-per-page")??this._itemsPerPage)}),i.effect(()=>{this._maxPages=parseInt(i.bound(this.$el,"data-max-pages")??this._maxPages)})}),i.bind(this.$el,{"x-modelable":"_currentPage"}),i.bind(this.$el,n.main)},getPagesCount(){return this._itemsPerPage<=0||this._itemsCount<=0?1:Math.ceil(this._itemsCount/this._itemsPerPage)},getMaxPagesCount(){return Math.min(this.getPagesCount(),Math.max(this._maxPages,3))},getPages(){let t=this.getMaxPagesCount(),e=this._currentPage-Math.ceil(t/2)+1,s=this.getPagesCount();e=g(e,1,s-t+1);let a=l(e,t);return t>=5&&(a[0]!=1&&(a[0]=1,a[1]="..."),a[a.length-1]!=s&&(a[a.length-1]=s,a[a.length-2]="...")),a},isSelected(){return this._currentPage===this.page},handleClickPrev(){let t=this._currentPage-1;this._currentPage=t<=1?1:t},handleClickNext(){let t=this._currentPage+1,e=this.getPagesCount();this._currentPage=t>=e?e:t},handleClickPage(){this.page!=="..."&&(this._currentPage=this.page)},prevButton:{"@click"(){this.handleClickPrev()},...n.prevButton},nextButton:{"@click"(){this.handleClickNext()},...n.nextButton},pageButton:{"@click"(){this.handleClickPage()},":class"(){let t=this.$el.attributes,e="";return this.isSelected()?e=t["class-selected"]?.textContent||"":e=t["class-default"]?.textContent||"",e},...n.pageButton}}})}document.addEventListener("alpine:init",()=>{Alpine.plugin(r)});})();
